(function($){
    $(function(){
        $('body').on('grav-editor-ready', function() {
            var Instance = Grav.default.Forms.Fields.EditorField.Instance;

            Instance.addButton({
                colors: {
                    identifier: 'colors',
                    title: 'Colors',
                    label: '<i class="fa fa-fw fa-tint"></i><i class="fa fa-caret-down"></i>',
                    modes: ['gfm', 'markdown'],
                    action: function(_ref) {
                        var codemirror = _ref.codemirror, button = _ref.button, textarea = _ref.textarea, $allSquares;

                        button.on('click.editor.colors', function() {
                            if ($('#color-chooser').is(':visible')) {
                                $('#color-chooser').remove();
                                return;
                            }

                            let chart = '<div id="color-chooser" class="material-design chart-content row show-sm"> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #ffebee" data-class="red-50" data-hex="#ffebee" data-rgb="255, 235, 238" data-hsl="351, 100%, 96%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffcdd2" data-class="red-100" data-hex="#ffcdd2" data-rgb="255, 205, 210" data-hsl="354, 100%, 90%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ef9a9a" data-class="red-200" data-hex="#ef9a9a" data-rgb="239, 154, 154" data-hsl="0, 73%, 77%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e57373" data-class="red-300" data-hex="#e57373" data-rgb="229, 115, 115" data-hsl="0, 69%, 67%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ef5350" data-class="red-400" data-hex="#ef5350" data-rgb="239, 83, 80" data-hsl="1, 83%, 63%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f44336" data-class="red-500" data-hex="#f44336" data-rgb="244, 67, 54" data-hsl="4, 90%, 58%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e53935" data-class="red-600" data-hex="#e53935" data-rgb="229, 57, 53" data-hsl="1, 77%, 55%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #d32f2f" data-class="red-700" data-hex="#d32f2f" data-rgb="211, 47, 47" data-hsl="0, 65%, 51%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #c62828" data-class="red-800" data-hex="#c62828" data-rgb="198, 40, 40" data-hsl="0, 66%, 47%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #b71c1c" data-class="red-900" data-hex="#b71c1c" data-rgb="183, 28, 28" data-hsl="0, 73%, 41%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #fce4ec" data-class="pink-50" data-hex="#fce4ec" data-rgb="252, 228, 236" data-hsl="340, 80%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f8bbd0" data-class="pink-100" data-hex="#f8bbd0" data-rgb="248, 187, 208" data-hsl="339, 81%, 85%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f48fb1" data-class="pink-200" data-hex="#f48fb1" data-rgb="244, 143, 177" data-hsl="340, 82%, 76%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f06292" data-class="pink-300" data-hex="#f06292" data-rgb="240, 98, 146" data-hsl="340, 83%, 66%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ec407a" data-class="pink-400" data-hex="#ec407a" data-rgb="236, 64, 122" data-hsl="340, 82%, 59%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e91e63" data-class="pink-500" data-hex="#e91e63" data-rgb="233, 30, 99" data-hsl="340, 82%, 52%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #d81b60" data-class="pink-600" data-hex="#d81b60" data-rgb="216, 27, 96" data-hsl="338, 78%, 48%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #c2185b" data-class="pink-700" data-hex="#c2185b" data-rgb="194, 24, 91" data-hsl="336, 78%, 43%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ad1457" data-class="pink-800" data-hex="#ad1457" data-rgb="173, 20, 87" data-hsl="334, 79%, 38%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #880e4f" data-class="pink-900" data-hex="#880e4f" data-rgb="136, 14, 79" data-hsl="328, 81%, 29%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #f3e5f5" data-class="purple-50" data-hex="#f3e5f5" data-rgb="243, 229, 245" data-hsl="292, 44%, 93%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e1bee7" data-class="purple-100" data-hex="#e1bee7" data-rgb="225, 190, 231" data-hsl="291, 46%, 83%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ce93d8" data-class="purple-200" data-hex="#ce93d8" data-rgb="206, 147, 216" data-hsl="291, 47%, 71%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ba68c8" data-class="purple-300" data-hex="#ba68c8" data-rgb="186, 104, 200" data-hsl="291, 47%, 60%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ab47bc" data-class="purple-400" data-hex="#ab47bc" data-rgb="171, 71, 188" data-hsl="291, 47%, 51%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #9c27b0" data-class="purple-500" data-hex="#9c27b0" data-rgb="156, 39, 176" data-hsl="291, 64%, 42%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #8e24aa" data-class="purple-600" data-hex="#8e24aa" data-rgb="142, 36, 170" data-hsl="287, 65%, 40%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #7b1fa2" data-class="purple-700" data-hex="#7b1fa2" data-rgb="123, 31, 162" data-hsl="282, 68%, 38%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #6a1b9a" data-class="purple-800" data-hex="#6a1b9a" data-rgb="106, 27, 154" data-hsl="277, 70%, 35%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4a148c" data-class="purple-900" data-hex="#4a148c" data-rgb="74, 20, 140" data-hsl="267, 75%, 31%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #ede7f6" data-class="deep-purple-50" data-hex="#ede7f6" data-rgb="237, 231, 246" data-hsl="264, 45%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #d1c4e9" data-class="deep-purple-100" data-hex="#d1c4e9" data-rgb="209, 196, 233" data-hsl="261, 46%, 84%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #b39ddb" data-class="deep-purple-200" data-hex="#b39ddb" data-rgb="179, 157, 219" data-hsl="261, 46%, 74%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #9575cd" data-class="deep-purple-300" data-hex="#9575cd" data-rgb="149, 117, 205" data-hsl="262, 47%, 63%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #7e57c2" data-class="deep-purple-400" data-hex="#7e57c2" data-rgb="126, 87, 194" data-hsl="262, 47%, 55%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #673ab7" data-class="deep-purple-500" data-hex="#673ab7" data-rgb="103, 58, 183" data-hsl="262, 52%, 47%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #5e35b1" data-class="deep-purple-600" data-hex="#5e35b1" data-rgb="94, 53, 177" data-hsl="260, 54%, 45%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #512da8" data-class="deep-purple-700" data-hex="#512da8" data-rgb="81, 45, 168" data-hsl="258, 58%, 42%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4527a0" data-class="deep-purple-800" data-hex="#4527a0" data-rgb="69, 39, 160" data-hsl="255, 61%, 39%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #311b92" data-class="deep-purple-900" data-hex="#311b92" data-rgb="49, 27, 146" data-hsl="251, 69%, 34%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #e8eaf6" data-class="indigo-50" data-hex="#e8eaf6" data-rgb="232, 234, 246" data-hsl="231, 44%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #c5cae9" data-class="indigo-100" data-hex="#c5cae9" data-rgb="197, 202, 233" data-hsl="232, 45%, 84%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #9fa8da" data-class="indigo-200" data-hex="#9fa8da" data-rgb="159, 168, 218" data-hsl="231, 44%, 74%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #7986cb" data-class="indigo-300" data-hex="#7986cb" data-rgb="121, 134, 203" data-hsl="230, 44%, 64%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #5c6bc0" data-class="indigo-400" data-hex="#5c6bc0" data-rgb="92, 107, 192" data-hsl="231, 44%, 56%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #3f51b5" data-class="indigo-500" data-hex="#3f51b5" data-rgb="63, 81, 181" data-hsl="231, 48%, 48%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #3949ab" data-class="indigo-600" data-hex="#3949ab" data-rgb="57, 73, 171" data-hsl="232, 50%, 45%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #303f9f" data-class="indigo-700" data-hex="#303f9f" data-rgb="48, 63, 159" data-hsl="232, 54%, 41%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #283593" data-class="indigo-800" data-hex="#283593" data-rgb="40, 53, 147" data-hsl="233, 57%, 37%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #1a237e" data-class="indigo-900" data-hex="#1a237e" data-rgb="26, 35, 126" data-hsl="235, 66%, 30%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #e3f2fd" data-class="blue-50" data-hex="#e3f2fd" data-rgb="227, 242, 253" data-hsl="205, 87%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #bbdefb" data-class="blue-100" data-hex="#bbdefb" data-rgb="187, 222, 251" data-hsl="207, 89%, 86%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #90caf9" data-class="blue-200" data-hex="#90caf9" data-rgb="144, 202, 249" data-hsl="207, 90%, 77%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #64b5f6" data-class="blue-300" data-hex="#64b5f6" data-rgb="100, 181, 246" data-hsl="207, 89%, 68%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #42a5f5" data-class="blue-400" data-hex="#42a5f5" data-rgb="66, 165, 245" data-hsl="207, 90%, 61%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #2196f3" data-class="blue-500" data-hex="#2196f3" data-rgb="33, 150, 243" data-hsl="207, 90%, 54%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #1e88e5" data-class="blue-600" data-hex="#1e88e5" data-rgb="30, 136, 229" data-hsl="208, 79%, 51%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #1976d2" data-class="blue-700" data-hex="#1976d2" data-rgb="25, 118, 210" data-hsl="210, 79%, 46%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #1565c0" data-class="blue-800" data-hex="#1565c0" data-rgb="21, 101, 192" data-hsl="212, 80%, 42%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #0d47a1" data-class="blue-900" data-hex="#0d47a1" data-rgb="13, 71, 161" data-hsl="216, 85%, 34%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #e1f5fe" data-class="light-blue-50" data-hex="#e1f5fe" data-rgb="225, 245, 254" data-hsl="199, 94%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #b3e5fc" data-class="light-blue-100" data-hex="#b3e5fc" data-rgb="179, 229, 252" data-hsl="199, 92%, 85%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #81d4fa" data-class="light-blue-200" data-hex="#81d4fa" data-rgb="129, 212, 250" data-hsl="199, 92%, 74%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4fc3f7" data-class="light-blue-300" data-hex="#4fc3f7" data-rgb="79, 195, 247" data-hsl="199, 91%, 64%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #29b6f6" data-class="light-blue-400" data-hex="#29b6f6" data-rgb="41, 182, 246" data-hsl="199, 92%, 56%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #03a9f4" data-class="light-blue-500" data-hex="#03a9f4" data-rgb="3, 169, 244" data-hsl="199, 98%, 48%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #039be5" data-class="light-blue-600" data-hex="#039be5" data-rgb="3, 155, 229" data-hsl="200, 97%, 45%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #0288d1" data-class="light-blue-700" data-hex="#0288d1" data-rgb="2, 136, 209" data-hsl="201, 98%, 41%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #0277bd" data-class="light-blue-800" data-hex="#0277bd" data-rgb="2, 119, 189" data-hsl="202, 98%, 37%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #01579b" data-class="light-blue-900" data-hex="#01579b" data-rgb="1, 87, 155" data-hsl="206, 99%, 31%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #e0f7fa" data-class="cyan-50" data-hex="#e0f7fa" data-rgb="224, 247, 250" data-hsl="187, 72%, 93%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #b2ebf2" data-class="cyan-100" data-hex="#b2ebf2" data-rgb="178, 235, 242" data-hsl="187, 71%, 82%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #80deea" data-class="cyan-200" data-hex="#80deea" data-rgb="128, 222, 234" data-hsl="187, 72%, 71%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4dd0e1" data-class="cyan-300" data-hex="#4dd0e1" data-rgb="77, 208, 225" data-hsl="187, 71%, 59%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #26c6da" data-class="cyan-400" data-hex="#26c6da" data-rgb="38, 198, 218" data-hsl="187, 71%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #00bcd4" data-class="cyan-500" data-hex="#00bcd4" data-rgb="0, 188, 212" data-hsl="187, 100%, 42%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #00acc1" data-class="cyan-600" data-hex="#00acc1" data-rgb="0, 172, 193" data-hsl="187, 100%, 38%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #0097a7" data-class="cyan-700" data-hex="#0097a7" data-rgb="0, 151, 167" data-hsl="186, 100%, 33%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #00838f" data-class="cyan-800" data-hex="#00838f" data-rgb="0, 131, 143" data-hsl="185, 100%, 28%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #006064" data-class="cyan-900" data-hex="#006064" data-rgb="0, 96, 100" data-hsl="182, 100%, 20%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #e0f2f1" data-class="teal-50" data-hex="#e0f2f1" data-rgb="224, 242, 241" data-hsl="177, 41%, 91%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #b2dfdb" data-class="teal-100" data-hex="#b2dfdb" data-rgb="178, 223, 219" data-hsl="175, 41%, 79%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #80cbc4" data-class="teal-200" data-hex="#80cbc4" data-rgb="128, 203, 196" data-hsl="174, 42%, 65%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4db6ac" data-class="teal-300" data-hex="#4db6ac" data-rgb="77, 182, 172" data-hsl="174, 42%, 51%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #26a69a" data-class="teal-400" data-hex="#26a69a" data-rgb="38, 166, 154" data-hsl="174, 63%, 40%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #009688" data-class="teal-500" data-hex="#009688" data-rgb="0, 150, 136" data-hsl="174, 100%, 29%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #00897b" data-class="teal-600" data-hex="#00897b" data-rgb="0, 137, 123" data-hsl="174, 100%, 27%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #00796b" data-class="teal-700" data-hex="#00796b" data-rgb="0, 121, 107" data-hsl="173, 100%, 24%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #00695c" data-class="teal-800" data-hex="#00695c" data-rgb="0, 105, 92" data-hsl="173, 100%, 21%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #004d40" data-class="teal-900" data-hex="#004d40" data-rgb="0, 77, 64" data-hsl="170, 100%, 15%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #e8f5e9" data-class="green-50" data-hex="#e8f5e9" data-rgb="232, 245, 233" data-hsl="125, 39%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #c8e6c9" data-class="green-100" data-hex="#c8e6c9" data-rgb="200, 230, 201" data-hsl="122, 37%, 84%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #a5d6a7" data-class="green-200" data-hex="#a5d6a7" data-rgb="165, 214, 167" data-hsl="122, 37%, 74%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #81c784" data-class="green-300" data-hex="#81c784" data-rgb="129, 199, 132" data-hsl="123, 38%, 64%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #66bb6a" data-class="green-400" data-hex="#66bb6a" data-rgb="102, 187, 106" data-hsl="123, 38%, 57%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4caf50" data-class="green-500" data-hex="#4caf50" data-rgb="76, 175, 80" data-hsl="122, 39%, 49%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #43a047" data-class="green-600" data-hex="#43a047" data-rgb="67, 160, 71" data-hsl="123, 41%, 45%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #388e3c" data-class="green-700" data-hex="#388e3c" data-rgb="56, 142, 60" data-hsl="123, 43%, 39%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #2e7d32" data-class="green-800" data-hex="#2e7d32" data-rgb="46, 125, 50" data-hsl="123, 46%, 34%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #1b5e20" data-class="green-900" data-hex="#1b5e20" data-rgb="27, 94, 32" data-hsl="124, 55%, 24%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #f1f8e9" data-class="light-green-50" data-hex="#f1f8e9" data-rgb="241, 248, 233" data-hsl="88, 52%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #dcedc8" data-class="light-green-100" data-hex="#dcedc8" data-rgb="220, 237, 200" data-hsl="88, 51%, 86%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #c5e1a5" data-class="light-green-200" data-hex="#c5e1a5" data-rgb="197, 225, 165" data-hsl="88, 50%, 76%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #aed581" data-class="light-green-300" data-hex="#aed581" data-rgb="174, 213, 129" data-hsl="88, 50%, 67%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #9ccc65" data-class="light-green-400" data-hex="#9ccc65" data-rgb="156, 204, 101" data-hsl="88, 50%, 60%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #8bc34a" data-class="light-green-500" data-hex="#8bc34a" data-rgb="139, 195, 74" data-hsl="88, 50%, 53%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #7cb342" data-class="light-green-600" data-hex="#7cb342" data-rgb="124, 179, 66" data-hsl="89, 46%, 48%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #689f38" data-class="light-green-700" data-hex="#689f38" data-rgb="104, 159, 56" data-hsl="92, 48%, 42%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #558b2f" data-class="light-green-800" data-hex="#558b2f" data-rgb="85, 139, 47" data-hsl="95, 49%, 36%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #33691e" data-class="light-green-900" data-hex="#33691e" data-rgb="51, 105, 30" data-hsl="103, 56%, 26%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #f9fbe7" data-class="lime-50" data-hex="#f9fbe7" data-rgb="249, 251, 231" data-hsl="66, 71%, 95%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f0f4c3" data-class="lime-100" data-hex="#f0f4c3" data-rgb="240, 244, 195" data-hsl="65, 69%, 86%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e6ee9c" data-class="lime-200" data-hex="#e6ee9c" data-rgb="230, 238, 156" data-hsl="66, 71%, 77%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #dce775" data-class="lime-300" data-hex="#dce775" data-rgb="220, 231, 117" data-hsl="66, 70%, 68%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #d4e157" data-class="lime-400" data-hex="#d4e157" data-rgb="212, 225, 87" data-hsl="66, 70%, 61%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #cddc39" data-class="lime-500" data-hex="#cddc39" data-rgb="205, 220, 57" data-hsl="66, 70%, 54%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #c0ca33" data-class="lime-600" data-hex="#c0ca33" data-rgb="192, 202, 51" data-hsl="64, 60%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #afb42b" data-class="lime-700" data-hex="#afb42b" data-rgb="175, 180, 43" data-hsl="62, 61%, 44%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #9e9d24" data-class="lime-800" data-hex="#9e9d24" data-rgb="158, 157, 36" data-hsl="60, 63%, 38%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #827717" data-class="lime-900" data-hex="#827717" data-rgb="130, 119, 23" data-hsl="54, 70%, 30%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #fffde7" data-class="yellow-50" data-hex="#fffde7" data-rgb="255, 253, 231" data-hsl="55, 100%, 95%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #fff9c4" data-class="yellow-100" data-hex="#fff9c4" data-rgb="255, 249, 196" data-hsl="54, 100%, 88%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #fff59d" data-class="yellow-200" data-hex="#fff59d" data-rgb="255, 245, 157" data-hsl="54, 100%, 81%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #fff176" data-class="yellow-300" data-hex="#fff176" data-rgb="255, 241, 118" data-hsl="54, 100%, 73%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffee58" data-class="yellow-400" data-hex="#ffee58" data-rgb="255, 238, 88" data-hsl="54, 100%, 67%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffeb3b" data-class="yellow-500" data-hex="#ffeb3b" data-rgb="255, 235, 59" data-hsl="54, 100%, 62%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #fdd835" data-class="yellow-600" data-hex="#fdd835" data-rgb="253, 216, 53" data-hsl="49, 98%, 60%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #fbc02d" data-class="yellow-700" data-hex="#fbc02d" data-rgb="251, 192, 45" data-hsl="43, 96%, 58%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f9a825" data-class="yellow-800" data-hex="#f9a825" data-rgb="249, 168, 37" data-hsl="37, 95%, 56%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f57f17" data-class="yellow-900" data-hex="#f57f17" data-rgb="245, 127, 23" data-hsl="28, 92%, 53%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #fff8e1" data-class="amber-50" data-hex="#fff8e1" data-rgb="255, 248, 225" data-hsl="46, 100%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffecb3" data-class="amber-100" data-hex="#ffecb3" data-rgb="255, 236, 179" data-hsl="45, 100%, 85%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffe082" data-class="amber-200" data-hex="#ffe082" data-rgb="255, 224, 130" data-hsl="45, 100%, 75%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffd54f" data-class="amber-300" data-hex="#ffd54f" data-rgb="255, 213, 79" data-hsl="46, 100%, 65%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffca28" data-class="amber-400" data-hex="#ffca28" data-rgb="255, 202, 40" data-hsl="45, 100%, 58%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffc107" data-class="amber-500" data-hex="#ffc107" data-rgb="255, 193, 7" data-hsl="45, 100%, 51%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffb300" data-class="amber-600" data-hex="#ffb300" data-rgb="255, 179, 0" data-hsl="42, 100%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffa000" data-class="amber-700" data-hex="#ffa000" data-rgb="255, 160, 0" data-hsl="38, 100%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ff8f00" data-class="amber-800" data-hex="#ff8f00" data-rgb="255, 143, 0" data-hsl="34, 100%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ff6f00" data-class="amber-900" data-hex="#ff6f00" data-rgb="255, 111, 0" data-hsl="26, 100%, 50%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #fff3e0" data-class="orange-50" data-hex="#fff3e0" data-rgb="255, 243, 224" data-hsl="37, 100%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffe0b2" data-class="orange-100" data-hex="#ffe0b2" data-rgb="255, 224, 178" data-hsl="36, 100%, 85%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffcc80" data-class="orange-200" data-hex="#ffcc80" data-rgb="255, 204, 128" data-hsl="36, 100%, 75%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffb74d" data-class="orange-300" data-hex="#ffb74d" data-rgb="255, 183, 77" data-hsl="36, 100%, 65%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffa726" data-class="orange-400" data-hex="#ffa726" data-rgb="255, 167, 38" data-hsl="36, 100%, 57%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ff9800" data-class="orange-500" data-hex="#ff9800" data-rgb="255, 152, 0" data-hsl="36, 100%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #fb8c00" data-class="orange-600" data-hex="#fb8c00" data-rgb="251, 140, 0" data-hsl="33, 100%, 49%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f57c00" data-class="orange-700" data-hex="#f57c00" data-rgb="245, 124, 0" data-hsl="30, 100%, 48%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ef6c00" data-class="orange-800" data-hex="#ef6c00" data-rgb="239, 108, 0" data-hsl="27, 100%, 47%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e65100" data-class="orange-900" data-hex="#e65100" data-rgb="230, 81, 0" data-hsl="21, 100%, 45%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #fbe9e7" data-class="deep-orange-50" data-hex="#fbe9e7" data-rgb="251, 233, 231" data-hsl="6, 71%, 95%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffccbc" data-class="deep-orange-100" data-hex="#ffccbc" data-rgb="255, 204, 188" data-hsl="14, 100%, 87%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ffab91" data-class="deep-orange-200" data-hex="#ffab91" data-rgb="255, 171, 145" data-hsl="14, 100%, 78%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ff8a65" data-class="deep-orange-300" data-hex="#ff8a65" data-rgb="255, 138, 101" data-hsl="14, 100%, 70%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ff7043" data-class="deep-orange-400" data-hex="#ff7043" data-rgb="255, 112, 67" data-hsl="14, 100%, 63%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #ff5722" data-class="deep-orange-500" data-hex="#ff5722" data-rgb="255, 87, 34" data-hsl="14, 100%, 57%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f4511e" data-class="deep-orange-600" data-hex="#f4511e" data-rgb="244, 81, 30" data-hsl="14, 91%, 54%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e64a19" data-class="deep-orange-700" data-hex="#e64a19" data-rgb="230, 74, 25" data-hsl="14, 80%, 50%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #d84315" data-class="deep-orange-800" data-hex="#d84315" data-rgb="216, 67, 21" data-hsl="14, 82%, 46%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #bf360c" data-class="deep-orange-900" data-hex="#bf360c" data-rgb="191, 54, 12" data-hsl="14, 88%, 40%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #efebe9" data-class="brown-50" data-hex="#efebe9" data-rgb="239, 235, 233" data-hsl="20, 16%, 93%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #d7ccc8" data-class="brown-100" data-hex="#d7ccc8" data-rgb="215, 204, 200" data-hsl="16, 16%, 81%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #bcaaa4" data-class="brown-200" data-hex="#bcaaa4" data-rgb="188, 170, 164" data-hsl="15, 15%, 69%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #a1887f" data-class="brown-300" data-hex="#a1887f" data-rgb="161, 136, 127" data-hsl="16, 15%, 56%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #8d6e63" data-class="brown-400" data-hex="#8d6e63" data-rgb="141, 110, 99" data-hsl="16, 18%, 47%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #795548" data-class="brown-500" data-hex="#795548" data-rgb="121, 85, 72" data-hsl="16, 25%, 38%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #6d4c41" data-class="brown-600" data-hex="#6d4c41" data-rgb="109, 76, 65" data-hsl="15, 25%, 34%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #5d4037" data-class="brown-700" data-hex="#5d4037" data-rgb="93, 64, 55" data-hsl="14, 26%, 29%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #4e342e" data-class="brown-800" data-hex="#4e342e" data-rgb="78, 52, 46" data-hsl="11, 26%, 24%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #3e2723" data-class="brown-900" data-hex="#3e2723" data-rgb="62, 39, 35" data-hsl="9, 28%, 19%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #fafafa" data-class="grey-50" data-hex="#fafafa" data-rgb="250, 250, 250" data-hsl="0, 0%, 98%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #f5f5f5" data-class="grey-100" data-hex="#f5f5f5" data-rgb="245, 245, 245" data-hsl="0, 0%, 96%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #eeeeee" data-class="grey-200" data-hex="#eeeeee" data-rgb="238, 238, 238" data-hsl="0, 0%, 93%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #e0e0e0" data-class="grey-300" data-hex="#e0e0e0" data-rgb="224, 224, 224" data-hsl="0, 0%, 88%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #bdbdbd" data-class="grey-400" data-hex="#bdbdbd" data-rgb="189, 189, 189" data-hsl="0, 0%, 74%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #9e9e9e" data-class="grey-500" data-hex="#9e9e9e" data-rgb="158, 158, 158" data-hsl="0, 0%, 62%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #757575" data-class="grey-600" data-hex="#757575" data-rgb="117, 117, 117" data-hsl="0, 0%, 46%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #616161" data-class="grey-700" data-hex="#616161" data-rgb="97, 97, 97" data-hsl="0, 0%, 38%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #424242" data-class="grey-800" data-hex="#424242" data-rgb="66, 66, 66" data-hsl="0, 0%, 26%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #212121" data-class="grey-900" data-hex="#212121" data-rgb="33, 33, 33" data-hsl="0, 0%, 13%"></div> </div> </div> <div class="color-group"> <div class="color-block"> <div class="js-color" style="background-color: #eceff1" data-class="blue-grey-50" data-hex="#eceff1" data-rgb="236, 239, 241" data-hsl="204, 15%, 94%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #cfd8dc" data-class="blue-grey-100" data-hex="#cfd8dc" data-rgb="207, 216, 220" data-hsl="198, 16%, 84%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #b0bec5" data-class="blue-grey-200" data-hex="#b0bec5" data-rgb="176, 190, 197" data-hsl="200, 15%, 73%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #90a4ae" data-class="blue-grey-300" data-hex="#90a4ae" data-rgb="144, 164, 174" data-hsl="200, 16%, 62%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #78909c" data-class="blue-grey-400" data-hex="#78909c" data-rgb="120, 144, 156" data-hsl="200, 15%, 54%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #607d8b" data-class="blue-grey-500" data-hex="#607d8b" data-rgb="96, 125, 139" data-hsl="200, 18%, 46%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #546e7a" data-class="blue-grey-600" data-hex="#546e7a" data-rgb="84, 110, 122" data-hsl="199, 18%, 40%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #455a64" data-class="blue-grey-700" data-hex="#455a64" data-rgb="69, 90, 100" data-hsl="199, 18%, 33%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #37474f" data-class="blue-grey-800" data-hex="#37474f" data-rgb="55, 71, 79" data-hsl="200, 18%, 26%"></div> </div> <div class="color-block"> <div class="js-color" style="background-color: #263238" data-class="blue-grey-900" data-hex="#263238" data-rgb="38, 50, 56" data-hsl="200, 19%, 18%"></div> </div></div>';
                            button.append($(chart));
                            $('#color-chooser').parent().css('position', 'unset');

                        });

                        button.on('mouseover', '.js-color', function () {
                            var $this = $(this);
                            $this.addClass('highlight');
                        });
                        button.on('mouseout', '.js-color', function () {
                            var $this = $(this);
                            $this.removeClass('highlight');
                        });

                        button.on('click', '.js-color', function () {
                            var $this = $(this);

                            $('#color-chooser').remove();
                            if (window.ColorButtonsPlugin.useShortcode) {
                                if (codemirror.getSelection() !== '') {
                                    Instance.buttonStrategies.replaceSelections({
                                        token: '$1',
                                        template: `[cb color=${$this.data("class")}] $1[/cb]`,
                                        codemirror: codemirror
                                    });
                                } else {
                                    Instance.buttonStrategies.replaceLine({
                                        token: '$1',
                                        template: `[cb color=${$this.data("class")}] $1[/cb]`,
                                        codemirror: codemirror
                                    });
                                }
                            } else {
                                Instance.buttonStrategies.replaceLine({
                                    token: '$1',
                                    template: '$1 {.' + $this.data('class') + '}',
                                    codemirror: codemirror
                                });
                            }
                            button.trigger('click.editor.colors');
                            codemirror.focus();
                        });
                    }
                }
            });
        });
    });

})(jQuery);
